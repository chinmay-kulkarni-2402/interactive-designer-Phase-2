/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/livehtml@0.0.7/lib/livehtml.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
_=require("prelude-ls"),livehtml={},last_tag="",ids=[],attrs_arr=[];var non_self_closing_tags=["html","head","title","style","script","$$","noscript","body","section","nav","article","aside","h1","h2","h3","h4","h5","h6","hgroup","header","footer","address","main","p","hr","pre","blockquote","ol","ul","li","dl","dt","dd","figure","figcaption","div","a","em","strong","small","s","cite","q","dfn","abbr","data","time","code","samp","kbd","sub","sup","i","b","u","mark","ruby","rt","rp","bdi","bdo","span","wbr","ins","del","iframe","embed","object","video","audio","source","track","canvas","map","svg","math","table","caption","colgroup","tbody","thead","tfoot","tr","td","th","form","fieldset","legend","label","button","select","datalist","optgroup","option","textarea","keygen","output","progress","meter","details","summary","command","menu","diva"],self_closing_tags=["base","meta","link","hr","br","param","img","area","input","col","frame","embed"];function attrs_expander(e){var t="";return"object"!=typeof e||Object.keys(e).forEach((function(l){var a=e[l];t=t+" "+l+'="'+a+'"'})),t}function tag(e,t,l,a){return(l?"#"==l[0]?"<"+e+' id="'+l.slice(1)+'"'+attrs_expander(a)+">":"<"+e+' class="'+l.slice(1)+'"'+attrs_expander(a)+">":"<"+e+attrs_expander(a)+">")+t+("</"+e+">")}function self_closing_tag(e,t,l){return t?"#"==t[0]?"<"+e+' id="'+t.slice(1)+'"'+attrs_expander(l)+"/>":"<"+e+' class="'+t.slice(1)+'"'+attrs_expander(l)+"/>":"<"+e+attrs_expander(l)+"/>"}function assignment_resolution(e,t,l){var a=void 0,n=void 0,r=0;if("string"==typeof e)r=1;else if("object"==typeof e)return[void 0,e,t||""];if(!t||"string"!=typeof t&&"function"!=typeof t){if(null==t)return[void 0,void 0,e];if("object"==typeof t)return[e,t,l]}else{if(1==r)return[e,void 0,t];a=t}return l?[void 0,n,l]:[void 0,a,void 0]}var tag_behaviour=function(arguments,e,t,l){var a=assignment_resolution(e,t,l);e=a[0],t=a[1];if("string"==typeof(l=a[2])){fakename=arguments.callee.caller.fakename;var n=arguments.callee.caller.level,r=(arguments.callee.caller.id,arguments.callee.caller.attrs,tag(arguments.callee.name,l,e,t));null==fakename?arguments.callee.content?arguments.callee.content[n]=r:arguments.callee.content=r:(content=GLOBAL.livehtml[fakename].content,n>glevel?(glevel+=1,content[n+1]=content[n+1]?content[n+1]+r:r):content&&(GLOBAL.livehtml[fakename].content+=r))}else if(pseudo=arguments.callee.name,arguments.callee.caller.fakename==pseudo?l.level=arguments.callee.caller.level+1:(last_tag==pseudo?arguments.callee.content="":last_tag=pseudo,l.level=0),temp=arguments.callee.content,GLOBAL.livehtml[pseudo].content=[],GLOBAL.livehtml[pseudo].content[l.level]=temp||"",l.fakename=pseudo,l.content=[],l.id=e,l.attrs=t,l.call(arguments.callee,l.level,l.id,l.attrs),parentname=arguments.callee.caller.fakename,null==parentname)r=tag(arguments.callee.name,arguments.callee.content,e,t),arguments.callee.content=r;else if(0==l.level)r=tag(arguments.callee.name,arguments.callee.content,e,t),parent=GLOBAL.livehtml[parentname],parent.content=parent.content+r;else if(1==l.level&&deepest){ids[l.level]=e,attrs_arr[l.level]=t,ids=_.reverse(ids),s=GLOBAL.livehtml[parentname].content[l.level+1],thistag=tag(pseudo,s[1][0],"#{"+l.level+"}",".a{"+l.level+"}"),r=s[0].replace("%"+(l.level+1),thistag.slice(0,thistag.length-(pseudo.length+3)))+s[2]+thistag.slice(thistag.length-(pseudo.length+3));for(var i=ids.length-1;i>=0;i--)r=ids[i]?r.replace("{"+i+"}",ids[i]):r.replace(' id="{'+i+'}"',""),r=attrs_arr[i]?r.replace("a{"+i+"}",attrs_expander(attrs_arr[i])):r.replace(' class="a{'+i+'}"',"");GLOBAL.livehtml[parentname].content=r}else if(GLOBAL.livehtml[parentname].content[l.level])if(deepest=l.level,rawthislevel=GLOBAL.livehtml[parentname].content[l.level],1==l.level)GLOBAL.livehtml[parentname].content=rawthislevel+tag(pseudo,GLOBAL.livehtml[parentname].content[l.level+1],e,t);else{thislevel=_.flatten(rawthislevel),thislevel=_.filter((function(e){if(null!=e)return!0}),thislevel);var s=thislevel;ids[l.level]=e,attrs_arr[l.level]=t,r=s[0]+"%"+l.level+tag(pseudo,GLOBAL.livehtml[parentname].content[l.level+1],"#{0}",".a{0}"),GLOBAL.livehtml[parentname].content[l.level]=[r.slice(0,r.length-(pseudo.length+3)),s.slice(1),r.slice(r.length-(pseudo.length+3))]}else ids[l.level]=e,attrs_arr[l.level]=t,s=GLOBAL.livehtml[parentname].content[l.level+1],thistag=tag(pseudo,s[1][0]+"%"+l.level,"#{"+l.level+"}",".a{"+l.level+"}"),arr2=s[0].split("%"+(l.level+1)),r=arr2[0]+thistag.slice(0,thistag.length-(pseudo.length+3))+arr2[1],GLOBAL.livehtml[parentname].content[l.level]=[r,s[1].slice(1),thistag.slice(thistag.length-(pseudo.length+3))+s[2]]},self_closing_tag_behaviour=function(e,t,l){t&&"object"==typeof t&&null==l&&(l=t,t=void 0),fakename=e.callee.caller.fakename;var a=self_closing_tag(e.callee.name,t,l);null==fakename?e.callee.content=a:(parent=GLOBAL.livehtml[fakename],parent.content=parent.content+a)},reset=function(e,t){t?Object.keys(livehtml).forEach((function(e){Object.keys(livehtml[e])[0]&&(livehtml[e].content=[])})):Object.keys(livehtml[e])[0]&&(livehtml[e].content=[])},opentag=function(arguments,e,t,l){glevel=0,deepest=0,tag_behaviour(arguments,e,t,l);var a=String(arguments.callee.content);return null==arguments.callee.caller.fakename&&reset(null,!0),a.replace(/<\$\$>|<\/\$\$>/g,"")},closedtag=function(arguments,e,t){return self_closing_tag_behaviour(arguments,e,t),arguments.callee.content};non_self_closing_tags.forEach((function(e){livehtml[e]=new Function("tagFn","return function "+e+"(id,attrs,fn){ \t\t\treturn tagFn(arguments,id,attrs,fn); \t\t}")(opentag),exports[e]=livehtml[e]})),self_closing_tags.forEach((function(e){livehtml[e]=new Function("tagFn","return function "+e+"(id,attrs){ \t\t\treturn tagFn(arguments,id,attrs); \t\t}")(closedtag),exports[e]=livehtml[e]}));
//# sourceMappingURL=/sm/18636199f1fdc7cd94d0889a30310289dc2885c90e2271d7f6ca7dd7999a4f3e.map